# CONSOLIDATE
source("consolidate/run_consolidate.r")
consolidate_env <- run_consolidate(a_data)
# Export
source("eda/export/run_export.r")
# export_env <- run_export()
#  Clear environment
rm(list = ls())
# Load packages
library("readxl")
library("writexl")
library("countrycode")
library("dplyr")
library("lubridate")
library("tidyr")
library("data.table")
library("bit64")
library("openxlsx")
library("tidyverse")
# HELPERS
source("helpers/joins.r")
source("helpers/transformations.r")
# ETL
source("src/base/run_base.r")
source("src/entity/run_entity.r")
source("src/population/run_population.r")
source("src/supply/run_supply.R")
source("src/vaccines/run_vaccines.r")
source("src/finance/run_finance.r")
source("src/demand_planning/run_demand_planning.r")
base_env <- run_base()
entity_env <- run_entity()
pop_env <- run_population()
supply_env <- run_supply()
vaccines_env <- run_vaccines(entity_characteristics)
finance_env <- run_financing()
demand_plan_env <- run_dp()
# EDA
source("eda/vxrate/run_vxrate.r")
source("eda/supplies/run_supplies.r")
source("eda/coverage/run_coverage.r")
source("eda/product/run_product.r")
source("eda/financing/run_financing.r")
source("eda/rank_bin/run_rank_bin.r")
source("eda/combination/run_combination.r")
vxrate_env <- run_vxrate(
c_vxrate_latest,
entity_characteristics,
c_vxrate_latest_red,
population_data,
uptake_gender_data,
b_who_dashboard,
b_smartsheet,
supply_secured,
delivery_courses_doses,
b_dp,
c_delivery_product,
b_fin_fund_del_sum
)
supplies_env <- run_eda_supplies(a_data)
coverage_env <- run_coverage(a_data)
product_env <- run_product(a_data)
financing_env <- run_financing(a_data)
ranking_env <- run_binning(a_data)
combination_env <- run_combination(a_data)
# CONSOLIDATE
source("consolidate/run_consolidate.r")
consolidate_env <- run_consolidate(a_data)
# Export
source("eda/export/run_export.r")
# export_env <- run_export()
View(a_data)
#  Clear environment
rm(list = ls())
# Load packages
library("readxl")
library("writexl")
library("countrycode")
library("dplyr")
library("lubridate")
library("tidyr")
library("data.table")
library("bit64")
library("openxlsx")
library("tidyverse")
# HELPERS
source("helpers/joins.r")
source("helpers/transformations.r")
# ETL
source("src/base/run_base.r")
source("src/entity/run_entity.r")
source("src/population/run_population.r")
source("src/supply/run_supply.R")
source("src/vaccines/run_vaccines.r")
source("src/finance/run_finance.r")
source("src/demand_planning/run_demand_planning.r")
base_env <- run_base()
entity_env <- run_entity()
pop_env <- run_population()
supply_env <- run_supply()
vaccines_env <- run_vaccines(entity_characteristics)
finance_env <- run_financing()
demand_plan_env <- run_dp()
# EDA
source("eda/vxrate/run_vxrate.r")
source("eda/supplies/run_supplies.r")
source("eda/coverage/run_coverage.r")
source("eda/product/run_product.r")
source("eda/financing/run_financing.r")
source("eda/rank_bin/run_rank_bin.r")
source("eda/combination/run_combination.r")
vxrate_env <- run_vxrate(
c_vxrate_latest,
entity_characteristics,
c_vxrate_latest_red,
population_data,
uptake_gender_data,
b_who_dashboard,
b_smartsheet,
supply_secured,
delivery_courses_doses,
b_dp,
c_delivery_product,
b_fin_fund_del_sum
)
supplies_env <- run_eda_supplies(a_data)
coverage_env <- run_coverage(a_data)
product_env <- run_product(a_data)
financing_env <- run_financing(a_data)
ranking_env <- run_binning(a_data)
combination_env <- run_combination(a_data)
# CONSOLIDATE
source("consolidate/run_consolidate.r")
consolidate_env <- run_consolidate(a_data)
# Export
source("eda/export/run_export.r")
# export_env <- run_export()
View(a_data)
#  Clear environment
rm(list = ls())
# Load packages
library("readxl")
library("writexl")
library("countrycode")
library("dplyr")
library("lubridate")
library("tidyr")
library("data.table")
library("bit64")
library("openxlsx")
library("tidyverse")
# HELPERS
source("helpers/joins.r")
source("helpers/transformations.r")
# ETL
source("src/base/run_base.r")
source("src/entity/run_entity.r")
source("src/population/run_population.r")
source("src/supply/run_supply.R")
source("src/vaccines/run_vaccines.r")
source("src/finance/run_finance.r")
source("src/demand_planning/run_demand_planning.r")
base_env <- run_base()
entity_env <- run_entity()
pop_env <- run_population()
supply_env <- run_supply()
vaccines_env <- run_vaccines(entity_characteristics)
finance_env <- run_financing()
demand_plan_env <- run_dp()
# EDA
source("eda/vxrate/run_vxrate.r")
source("eda/supplies/run_supplies.r")
source("eda/coverage/run_coverage.r")
source("eda/product/run_product.r")
source("eda/financing/run_financing.r")
source("eda/rank_bin/run_rank_bin.r")
source("eda/combination/run_combination.r")
vxrate_env <- run_vxrate(
c_vxrate_latest,
entity_characteristics,
c_vxrate_latest_red,
population_data,
uptake_gender_data,
b_who_dashboard,
b_smartsheet,
supply_secured,
delivery_courses_doses,
b_dp,
c_delivery_product,
b_fin_fund_del_sum
)
supplies_env <- run_eda_supplies(a_data)
coverage_env <- run_coverage(a_data)
product_env <- run_product(a_data)
financing_env <- run_financing(a_data)
ranking_env <- run_binning(a_data)
combination_env <- run_combination(a_data)
# CONSOLIDATE
source("consolidate/run_consolidate.r")
consolidate_env <- run_consolidate(a_data)
# Export
source("eda/export/run_export.r")
# export_env <- run_export()
View(a_data)
run_supply <- function(env = .GlobalEnv) {
print(" > Starting local environment for supply module...")
source("src/supply/supply_secured.r", TRUE)
source("src/supply/supply_received.r", TRUE)
print(" > Secured supply...")
supply_secured <- extract_supply_secured()
c_sec_cour_lm <- extract_sup_sec_lm()
# FIXME hardcoded date
supply_secured <- transform_supply_secured(
supply_secured,
dataset_date = "2022-04-14",
c_sec_cour_lm
)
print(" > Done.")
print(" > Received supply...")
supply_received <- load_sup_rec()
env$supply_received <- supply_received
supply_received_doses <- transform_sup_rec_doses(supply_received)
supply_received_produ <- transform_sup_rec_product(supply_received)
delivery_courses_doses <- eda_sup_rec_courses(
supply_received, supply_received_doses
)
print(" > Done.")
print(" > Loading supply data back to global environment...")
env$supply_secured <- supply_secured
env$c_sec_cour_lm <- c_sec_cour_lm
env$delivery_courses_doses <- delivery_courses_doses
env$c_delivery_product <- supply_received_produ
env$supply_received_doses <- supply_received_doses
print(" > OK.")
return(environment())
}
run_supply()
View(supply_received_doses)
View(supply_received_doses)
View(supply_received)
run_supply <- function(env = .GlobalEnv) {
print(" > Starting local environment for supply module...")
source("src/supply/supply_secured.r", TRUE)
source("src/supply/supply_received.r", TRUE)
print(" > Secured supply...")
supply_secured <- extract_supply_secured()
c_sec_cour_lm <- extract_sup_sec_lm()
# FIXME hardcoded date
supply_secured <- transform_supply_secured(
supply_secured,
dataset_date = "2022-04-14",
c_sec_cour_lm
)
print(" > Done.")
print(" > Received supply...")
supply_received <- load_sup_rec()
env$supply_received <- supply_received
supply_received_doses <- transform_sup_rec_doses(supply_received)
supply_received_produ <- transform_sup_rec_product(supply_received)
delivery_courses_doses <- eda_sup_rec_courses(
supply_received, supply_received_doses
)
print(" > Done.")
print(" > Loading supply data back to global environment...")
env$supply_secured <- supply_secured
env$c_sec_cour_lm <- c_sec_cour_lm
env$delivery_courses_doses <- delivery_courses_doses
env$c_delivery_product <- supply_received_produ
env$supply_received_doses <- supply_received_doses
print(" > OK.")
return(environment())
}
run_supply <- function(env = .GlobalEnv) {
print(" > Starting local environment for supply module...")
source("src/supply/supply_secured.r", TRUE)
source("src/supply/supply_received.r", TRUE)
print(" > Secured supply...")
supply_secured <- extract_supply_secured()
c_sec_cour_lm <- extract_sup_sec_lm()
# FIXME hardcoded date
supply_secured <- transform_supply_secured(
supply_secured,
dataset_date = "2022-04-14",
c_sec_cour_lm
)
print(" > Done.")
print(" > Received supply...")
supply_received <- load_sup_rec()
env$supply_received <- supply_received
supply_received_doses <- transform_sup_rec_doses(supply_received)
supply_received_produ <- transform_sup_rec_product(supply_received)
delivery_courses_doses <- eda_sup_rec_courses(
supply_received, supply_received_doses
)
print(" > Done.")
print(" > Loading supply data back to global environment...")
env$supply_secured <- supply_secured
env$c_sec_cour_lm <- c_sec_cour_lm
env$delivery_courses_doses <- delivery_courses_doses
env$c_delivery_product <- supply_received_produ
env$supply_received_doses <- supply_received_doses
print(" > OK.")
return(environment())
}
run_supply()
View(supply_received)
View(supply_received)
View(supply_received_doses)
View(a_data)
View(supply_received_doses)
View(vxrate_env)
View(c_delivery_product)
View(base_env)
View(vxrate_env)
#  Clear environment
rm(list = ls())
# Load packages
library("readxl")
library("writexl")
library("countrycode")
library("dplyr")
library("lubridate")
library("tidyr")
library("data.table")
library("bit64")
library("openxlsx")
library("tidyverse")
# HELPERS
source("helpers/joins.r")
source("helpers/transformations.r")
# ETL
source("src/base/run_base.r")
source("src/entity/run_entity.r")
source("src/population/run_population.r")
source("src/supply/run_supply.R")
source("src/vaccines/run_vaccines.r")
source("src/finance/run_finance.r")
source("src/demand_planning/run_demand_planning.r")
base_env <- run_base()
entity_env <- run_entity()
pop_env <- run_population()
supply_env <- run_supply()
vaccines_env <- run_vaccines(entity_characteristics)
finance_env <- run_financing()
demand_plan_env <- run_dp()
# EDA
source("eda/vxrate/run_vxrate.r")
source("eda/supplies/run_supplies.r")
source("eda/coverage/run_coverage.r")
source("eda/product/run_product.r")
source("eda/financing/run_financing.r")
source("eda/rank_bin/run_rank_bin.r")
source("eda/combination/run_combination.r")
vxrate_env <- run_vxrate(
c_vxrate_latest,
entity_characteristics,
c_vxrate_latest_red,
population_data,
uptake_gender_data,
b_who_dashboard,
b_smartsheet,
supply_secured,
delivery_courses_doses,
b_dp,
c_delivery_product,
b_fin_fund_del_sum
)
supplies_env <- run_eda_supplies(a_data)
coverage_env <- run_coverage(a_data)
product_env <- run_product(a_data)
financing_env <- run_financing(a_data)
ranking_env <- run_binning(a_data)
combination_env <- run_combination(a_data)
# CONSOLIDATE
source("consolidate/run_consolidate.r")
consolidate_env <- run_consolidate(a_data)
# Export
source("eda/export/run_export.r")
# export_env <- run_export()
View(a_data)
#  Clear environment
rm(list = ls())
# Load packages
library("readxl")
library("writexl")
library("countrycode")
library("dplyr")
library("lubridate")
library("tidyr")
library("data.table")
library("bit64")
library("openxlsx")
library("tidyverse")
# HELPERS
source("helpers/joins.r")
source("helpers/transformations.r")
# ETL
source("src/base/run_base.r")
source("src/entity/run_entity.r")
source("src/population/run_population.r")
source("src/supply/run_supply.R")
source("src/vaccines/run_vaccines.r")
source("src/finance/run_finance.r")
source("src/demand_planning/run_demand_planning.r")
base_env <- run_base()
entity_env <- run_entity()
pop_env <- run_population()
supply_env <- run_supply()
vaccines_env <- run_vaccines(entity_characteristics)
finance_env <- run_financing()
demand_plan_env <- run_dp()
# EDA
source("eda/vxrate/run_vxrate.r")
source("eda/supplies/run_supplies.r")
source("eda/coverage/run_coverage.r")
source("eda/product/run_product.r")
source("eda/financing/run_financing.r")
source("eda/rank_bin/run_rank_bin.r")
source("eda/combination/run_combination.r")
vxrate_env <- run_vxrate(
c_vxrate_latest,
entity_characteristics,
c_vxrate_latest_red,
population_data,
uptake_gender_data,
b_who_dashboard,
b_smartsheet,
supply_secured,
delivery_courses_doses,
b_dp,
c_delivery_product,
b_fin_fund_del_sum
)
supplies_env <- run_eda_supplies(a_data)
coverage_env <- run_coverage(a_data)
product_env <- run_product(a_data)
financing_env <- run_financing(a_data)
ranking_env <- run_binning(a_data)
combination_env <- run_combination(a_data)
# CONSOLIDATE
source("consolidate/run_consolidate.r")
consolidate_env <- run_consolidate(a_data)
# Export
source("eda/export/run_export.r")
# export_env <- run_export()
View(a_data)
#  Clear environment
rm(list = ls())
# Load packages
library("readxl")
library("writexl")
library("countrycode")
library("dplyr")
library("lubridate")
library("tidyr")
library("data.table")
library("bit64")
library("openxlsx")
library("tidyverse")
# HELPERS
source("helpers/joins.r")
source("helpers/transformations.r")
# ETL
source("src/base/run_base.r")
source("src/entity/run_entity.r")
source("src/population/run_population.r")
source("src/supply/run_supply.R")
source("src/vaccines/run_vaccines.r")
source("src/finance/run_finance.r")
source("src/demand_planning/run_demand_planning.r")
base_env <- run_base()
entity_env <- run_entity()
pop_env <- run_population()
supply_env <- run_supply()
vaccines_env <- run_vaccines(entity_characteristics)
finance_env <- run_financing()
demand_plan_env <- run_dp()
# EDA
source("eda/vxrate/run_vxrate.r")
source("eda/supplies/run_supplies.r")
source("eda/coverage/run_coverage.r")
source("eda/product/run_product.r")
source("eda/financing/run_financing.r")
source("eda/rank_bin/run_rank_bin.r")
source("eda/combination/run_combination.r")
vxrate_env <- run_vxrate(
c_vxrate_latest,
entity_characteristics,
c_vxrate_latest_red,
population_data,
uptake_gender_data,
b_who_dashboard,
b_smartsheet,
supply_secured,
delivery_courses_doses,
b_dp,
c_delivery_product,
b_fin_fund_del_sum
)
supplies_env <- run_eda_supplies(a_data)
coverage_env <- run_coverage(a_data)
product_env <- run_product(a_data)
financing_env <- run_financing(a_data)
ranking_env <- run_binning(a_data)
combination_env <- run_combination(a_data)
# CONSOLIDATE
source("consolidate/run_consolidate.r")
consolidate_env <- run_consolidate(a_data)
# Export
source("eda/export/run_export.r")
# export_env <- run_export()
View(a_data)
